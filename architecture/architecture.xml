<?xml version="1.0" encoding="UTF-8"?>
<?xml-model href="http://docbook.org/xml/5.1/rng/docbook.rng" schematypens="http://relaxng.org/ns/structure/1.0"?>
<?xml-model href="http://docbook.org/xml/5.1/sch/docbook.sch" type="application/xml" schematypens="http://purl.oclc.org/dsdl/schematron"?>
<chapter xmlns="http://docbook.org/ns/docbook"
    xmlns:xlink="http://www.w3.org/1999/xlink" version="5.1">
     <title>Architecture</title>
     <para>The mower robot consists of various mechanical, electronic and software components. The
        following paragraphs provide details of each element.</para>
    <section>
        <title>Mechanical design<indexterm>
                <primary>Mechanical design</primary>
            </indexterm></title>
        <para>To be done</para>
        <section>
            <title>Chassis<indexterm>
                    <primary>Chassis</primary>
                </indexterm></title>
            <para>To be done</para>
            <section>
                <title>Wheels<indexterm>
                        <primary>Roues</primary>
                    </indexterm></title>
                <para>To be done</para>
            </section>
        </section>
        <section>
            <title>Bodywork<indexterm>
                    <primary>Carrosserie</primary>
                </indexterm></title>
            <para>A faire</para>
        </section>
        <section>
            <title>Propulsion<indexterm>
                    <primary>Propulsion</primary>
                </indexterm></title>
            <para>Propulsion is provided by four electric motors of at least 25W each (see <xref
                    linkend="puissance"/> and <xref linkend="couple"/>). The characteristics of
                these engines are:</para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>Power: 22,5W</para>
                    </listitem>
                    <listitem>
                        <para>Torque: 6,75 Nm</para>
                    </listitem>
                    <listitem>
                        <para>Rotational speed: 33 t/min</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>In addition, the motor will include an encoder, to measure the number of
                revolutions performed, as well as a gearbox..</para>
            <section>
                <title>Engine<indexterm>
                        <primary>Engine</primary>
                        <secondary>Propulsion</secondary>
                    </indexterm></title>
                <para>Brushless engine with encodeur.</para>
            </section>
            <section>
                <title>Gearbox<indexterm>
                        <primary>Gearbox</primary>
                        <secondary>Propulsion</secondary>
                    </indexterm></title>
                <para>To be done</para>
            </section>
            <section>
                <title>Encodeur<indexterm>
                        <primary>Encodeur</primary>
                        <secondary>Propulsion</secondary>
                    </indexterm></title>
                <para>The encoder allows you to count the number of revolutions actually performed
                    by the motor. By knowing the reduction ratio of the gearbox and the diameter of
                    the wheels, we can quickly determine the distance covered.</para>
            </section>
        </section>
    </section>
    <section>
        <title>Electronic<indexterm>
                <primary>Architecture</primary>
                <secondary>Ã‰lectronique</secondary>
            </indexterm></title>
        <para>The control electronics are made up of several separate blocks, as shown in the
            diagram below.</para>
        <figure>
            <title>Robot control architecture</title>
            <mediaobject>
                <imageobject>
                    <imagedata fileref="architecture.png" align="center"/>
                </imageobject>
            </mediaobject>
        </figure>
        
        <para></para>
        <section>
            <title>Propulsion engine controller</title>
            <para>To be done</para>
        </section>
        <section>
            <title>Accessories engine controller</title>
            <para>To be done</para>
        </section>
        <section>
            <title>Lidar</title>
            <para>To be done</para>
        </section>
        <section>
            <title>GPS</title>
            <para>To be done</para>
        </section>
        <section>
            <title>Local contacts</title>
            <para>To be done</para>
        </section>
        <section>
            <title>Battery</title>
            <para>To be done</para>
        </section>
        <section>
            <title>On-board computer</title>
            <para>To be done</para>
        </section>
        <section>
            <title>Attitude sensors</title>
            <para>Accelerometer, gyroscope, magnetometer</para>
        </section>
        <section>
            <title>Communication</title>
            <para>WiFi, GSM, IP</para>
        </section>
    </section>
    <section>
        <title>Software architecture<indexterm>
                <primary>Architecture</primary>
                <secondary>Software</secondary>
            </indexterm></title>
        <para>The robot software runs on a Raspberri Pi III. It consists of the following two
            important bricks::</para>
        <para>
            <itemizedlist>
                <listitem>
                    <para>Operating system: Linux Ubuntu.</para>
                </listitem>
                <listitem>
                    <para>ROS (Robot Operating System).</para>
                </listitem>
            </itemizedlist>
        </para>
    </section>

</chapter>
